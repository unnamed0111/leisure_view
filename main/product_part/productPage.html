<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상품 페이지</title>
    <script src="https://kit.fontawesome.com/2001324d72.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-1.11.3.js"></script>
    <link rel="stylesheet" href="css/main_common.css">
    <link rel="stylesheet" href="css/product_page.css">
</head>
<body>
    <div id="main">
        <div class="overview row rt-4-6">
            <div class="col">
                <!-- 상품 사진 -->
                <div class="main-image">
                    <!-- 상품 큰 사진 -->
                    <img src="img/ski.jpg" alt="">
                </div>
                <div class="image-slide">
                    <!-- 사진 슬라이더 -->
                    <ul>
                        <li><a href=""><img src="img/ski.jpg" alt=""></a></li>
                        <li><a href=""><img src="img/ski.jpg" alt=""></a></li>
                        <li><a href=""><img src="img/ski.jpg" alt=""></a></li>
                        <li><a href=""><img src="img/ski.jpg" alt=""></a></li>
                        <li><a href=""><img src="img/ski.jpg" alt=""></a></li>
                    </ul>
                </div>
            </div>
            <div class="col product-menu">
                <!-- 상품 메뉴 -->
                <h2>강원도 평창 스키장 이용권</h2>
                <a href="" class="score-list">
                    <!-- 평점 -->
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <small>(1,000)</small>
                </a>
                <hr>
                <div class="price-box">
                    <strong class="discount-info">
                        정가 : <span class="original-price">40,000원</span>
                        <small>50%할인</small>
                    </strong>
                    <strong class="final-price">
                        판매가 : <span class="price discounted">20,000원</span>
                    </strong>
                </div>
                <div class="date-box">
                    <span>예약일 :</span>
                    <input type="date">
                </div>
                <div class="option-box">
                    <span>옵션 :</span>
                    <select id="">
                        <option value="">성인-주간</option>
                        <option class="disabled" value="">성인-야간</option>
                        <option class="disabled" value="">청소년-주간</option>
                        <option value="">청소년-야간</option>
                        <option value="">아동-주간</option>
                        <option selected value="">아동-야간</option>
                    </select>
                </div>
                <div class="quantity-box-wrapper">
                    <span>수량 :</span>
                    <input type="number" min="1" value="1">
                </div>
                <div class="button-box">
                    <a class="button" href="">장바구니 담기</a>
                    <a class="button" href="">바로구매</a>
                    <a class="button" href="">찜하기</a>
                </div>
            </div>
        </div>
        <div class="content-wrapper">
            <div id="contentTab" class="content-tab">
                <ul>
                    <li class="tab-selected"><a href="0">상세설명</a></li>
                    <li><a href="1">리뷰</a></li>
                    <li><a href="2">질문/답변</a></li>
                </ul>
            </div>
            <div id="contentBox" class="content">
                <div class="detail content-item open-content">
                    <h3>상세설명</h3>
                    <div style="text-align: center;">
                        <img src="img/prod_detail.png" alt="">
                    </div>
                </div>
                <div class="review content-item">
                    <h3>리뷰</h3>
                    <div class="score">
                        <span>평균 평점 : 4.8/5.0</span>
                        <div>
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star-half"></i>
                        </div>
                    </div>
                    <div class="review-list">
                        <span>리뷰 목록 (1,000)</span>
                        <ul>
                            <li>
                                <div class="review-item-user">작성자 : kimpro</div>
                                <time class="review-item-date" datetime="2022-10-11">작성일 : 2022-10-11</time>
                                <div class="review-item-prod">구매 상품: 스키장 이용권 (성인-주간)</div>
                                <div class="review-item-content">
                                    최근에 샀는데 매우 만족했습니다.
                                </div>
                                <div class="review-item-score">
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                </div>
                            </li>
                            <!-- 테스트 리스트 -->
                            <li>
                                <div class="review-item-user">작성자 : Park</div>
                                <time class="review-item-date" datetime="2022-10-11">작성일 : 2022-10-11</time>
                                <div class="review-item-prod">구매 상품: 스키장 이용권 (성인-야간)</div>
                                <div class="review-item-content">
                                    최근에 구매했지만 제 시간에 사용할 수 있기에는 너무 촉박한 옵션인 것 같습니다. 하지만 재미는 있었습니다. 그래서 2점 드립니다.
                                </div>
                                <div class="review-item-score">
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="qna content-item">
                    <h3>질문/답변</h3>
                    <div class="qna-list">
                        <span>총 질문 : 20개</span>
                        <ul>
                            <li>
                                <div href="" class="qna-item-overview">
                                    <div><i class="fa-solid fa-lock"></i></div>
                                    <a class="qna-item-selected" href=""><h4>질문이 있습니다.</h4></a>
                                    <div>작성자 : kimpro</div>
                                    <time datetime="2022-10-11">작성일 : 2022-10-11</time>
                                </div>
                                <!-- 열때 붙이기 -->
                                <div id="qnaItem" class="qna-item-open">
                                    <small class="qna-item-prod">구매한 상품 : 스키장 이용권 (성인-주간)</small>
                                    <div class="qna-item-content">
                                        제품에 이상이 있습니다.
                                    </div>
                                    <div class="qna-item-answer">
                                        <div>판매자</div>
                                        <time datetime="2022-10-22">작성일 : 2022-10-22</time>
                                        <div>확인해보겠습니다.</div>
                                    </div>
                                </div>
                            </li>
                            <!-- 테스트 리스트 -->
                            <li>
                                <div href="" class="qna-item-overview">
                                    <div></div>
                                    <a href="">
                                        <h4>상품은 언제 배송되나요?</h4>
                                    </a>
                                    <div>작성자 : kimpope</div>
                                    <time datetime="2022-11-12">작성일 : 2022-11-12</time>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div id="pagingBox" class="paging-controller test-hidden">
                    <ul>
                        <li><a href="">이전</a></li>
                        <li><a href="">1</a></li>
                        <li><a href="">2</a></li>
                        <li><a href="">3</a></li>
                        <li><a href="">4</a></li>
                        <li><a href="">5</a></li>
                        <li><a href="">다음</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function() {
            initialize();
        });

        let initialize = function() {
            $('#contentTab > ul > li > a').on('click', function(event) {
                event.preventDefault();
                console.log($(this).attr('href'));
                let itemNum = $(this).attr('href');
                // tabController
                $('#contentTab > ul > li').removeAttr('class');
                $('#contentTab > ul > li').eq(itemNum).attr('class', 'tab-selected');
                // tabItems
                $('#contentBox > div').removeClass('open-content');
                $('#contentBox > div').eq(itemNum).addClass('open-content');
                if(itemNum != 0) {
                    $('#pagingBox').removeClass('test-hidden');
                } else {
                    $('#pagingBox').addClass('test-hidden');
                }
            });
        }

        // qna DOM 관리
        $('.qna-item-overview > a').on('click', function(event) {
            event.preventDefault();
            let state = $(this).attr('class');
            console.log(state);
            if(state != 'qna-item-selected') {
                // 선택안된(닫힌) 아이템 클릭시 <div id="qnaItem" class="qna-item-open"> 붙여주기
                // $(this).parent().parent().append("<div>")
                    let container = $(this).parent().get(0);
                    getQna(container);
            } else {
                // 이미 선택된(열린) 아이템 클릭시 <div id="qnaItem" class="qna-item-open"> 삭제
                $(this).removeAttr('class');
                $('#qnaItem').remove();
            }
        });

        // ajax
        let getQna = function(container) {
            // 데이터 가져오기 성공하면
            // mkQnaItem으로 <div id="qnaItem">생성하고
            // 가져온 데이터를 집어넣기
            console.log(container);
        }

        let mkQnaItem = function() {

        }

        let getReview = function() {

        }

        let getDetail = function() {

        }
    </script>
</body>
</html>